(function(a){theme={_init:function(){if(api.options.slide_links){a(vars.slide_list).css("margin-left",-a(vars.slide_list).width()/2)}if(api.options.autoplay){if(api.options.progress_bar){theme.progressBar()}}else{if(a(vars.play_button).attr("src")){a(vars.play_button).attr("src",vars.image_path+"play.png")}if(api.options.progress_bar){a(vars.progress_bar).stop().css({left:-a(window).width()})}}var b=function(){a(vars.thumb_tray).stop().animate({bottom:"+=0",avoidTransforms:false},300);if(a(vars.tray_arrow).attr("src")){a(vars.tray_arrow).attr("src",vars.image_path+"button-tray-down.png")}return false};var c=function(){a(vars.thumb_tray).stop().animate({bottom:"-="+a(vars.thumb_tray).height(),avoidTransforms:false},300);if(a(vars.tray_arrow).attr("src")){a(vars.tray_arrow).attr("src",vars.image_path+"button-tray-up.png")}return false};if(!api.options.thumbnails_at_launch){a(vars.tray_button).toggle(b,c);a(vars.thumb_tray).css({bottom:-a(vars.thumb_tray).height()})}else{a(vars.tray_button).toggle(c,b);a(vars.tray_arrow).attr("src",vars.image_path+"button-tray-down.png")}a(vars.thumb_list).width(a("> li",vars.thumb_list).length*a("> li",vars.thumb_list).outerWidth(true));if(a(vars.slide_total).length){a(vars.slide_total).html(api.options.total_length)}if(api.options.thumb_links){if(a(vars.thumb_list).width()<=a(vars.thumb_tray).width()){a(vars.thumb_back+","+vars.thumb_forward).fadeOut(0)}vars.thumb_interval=Math.floor(a(vars.thumb_tray).width()/a("> li",vars.thumb_list).outerWidth(true))*a("> li",vars.thumb_list).outerWidth(true);vars.thumb_page=0;a(vars.thumb_forward).click(function(){if(vars.thumb_page-vars.thumb_interval<=-a(vars.thumb_list).width()){vars.thumb_page=0;a(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"},theme.loadThumbnails())}else{vars.thumb_page=vars.thumb_page-vars.thumb_interval;a(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"},theme.loadThumbnails())}});a(vars.thumb_back).click(function(){if(vars.thumb_page+vars.thumb_interval>0){vars.thumb_page=Math.floor(a(vars.thumb_list).width()/vars.thumb_interval)*-vars.thumb_interval;if(a(vars.thumb_list).width()<=-vars.thumb_page){vars.thumb_page=vars.thumb_page+vars.thumb_interval}a(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"},theme.loadThumbnails())}else{vars.thumb_page=vars.thumb_page+vars.thumb_interval;a(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"},theme.loadThumbnails())}});this.loadThumbnails()}a(vars.next_slide).click(function(){api.nextSlide()});a(vars.prev_slide).click(function(){api.prevSlide()});if(jQuery.support.opacity){a(vars.prev_slide+","+vars.next_slide).mouseover(function(){a(this).stop().animate({opacity:1},100)}).mouseout(function(){a(this).stop().animate({opacity:0.6},100)})}if(api.options.thumbnail_navigation){a(vars.next_thumb).click(function(){api.nextSlide()});a(vars.prev_thumb).click(function(){api.prevSlide()})}a(vars.play_button).click(function(){api.playToggle()});if(api.options.mouse_scrub){a(vars.thumb_tray).mousemove(function(h){var f=a(vars.thumb_tray).width(),j=a(vars.thumb_list).width();if(j>f){var d=1,g=h.pageX-d;if(g>10||g<-10){d=h.pageX;newX=(f-j)*(h.pageX/f);g=parseInt(Math.abs(parseInt(a(vars.thumb_list).css("left"))-newX)).toFixed(0);a(vars.thumb_list).stop().animate({left:newX},{duration:g*3,easing:"easeOutExpo"})}}})}a(window).resize(function(){if(api.options.progress_bar&&!vars.in_animation){if(vars.slideshow_interval){clearInterval(vars.slideshow_interval)}if(api.options.slides.length-1>0){clearInterval(vars.slideshow_interval)}a(vars.progress_bar).stop().css({left:-a(window).width()});if(!vars.progressDelay&&api.options.slideshow){vars.progressDelay=setTimeout(function(){if(!vars.is_paused){theme.progressBar();vars.slideshow_interval=setInterval(api.nextSlide,api.options.slide_interval)}vars.progressDelay=false},1000)}}theme.thumbTrayChanged()})},thumbTrayChanged:function(){if(api.options.thumb_links&&vars.thumb_tray.length){vars.thumb_interval=Math.floor(a(vars.thumb_tray).width()/a("> li",vars.thumb_list).outerWidth(true))*a("> li",vars.thumb_list).outerWidth(true);if(a(vars.thumb_list).width()>a(vars.thumb_tray).width()){a(vars.thumb_back+","+vars.thumb_forward).fadeIn("fast")}else{a(vars.thumb_back+","+vars.thumb_forward).fadeOut("fast")}}},goTo:function(){this.loadThumbnails();if(api.options.progress_bar&&!vars.is_paused){a(vars.progress_bar).stop().css({left:-a(window).width()});theme.progressBar()}},playToggle:function(b){if(b=="play"){if(a(vars.play_button).attr("src")){a(vars.play_button).attr("src",vars.image_path+"pause.png")}if(api.options.progress_bar&&!vars.is_paused){theme.progressBar()}}else{if(b=="pause"){if(a(vars.play_button).attr("src")){a(vars.play_button).attr("src",vars.image_path+"play.png")}if(api.options.progress_bar&&vars.is_paused){a(vars.progress_bar).stop().css({left:-a(window).width()})}}}},beforeAnimation:function(c){if(api.options.progress_bar&&!vars.is_paused){a(vars.progress_bar).stop().css({left:-a(window).width()})}if(a(vars.slide_caption).length){(api.getField("title"))?a(vars.slide_caption).html(api.getField("title")):a(vars.slide_caption).html("")}if(vars.slide_current.length){a(vars.slide_current).html(vars.current_slide+1)}if(api.options.thumb_links){a(".current-thumb").removeClass("current-thumb");a("li",vars.thumb_list).eq(vars.current_slide).addClass("current-thumb");if(a(vars.thumb_list).width()>a(vars.thumb_tray).width()){if(c=="next"){if(vars.current_slide==0){vars.thumb_page=0;a(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}else{if(a(".current-thumb").offset().left-a(vars.thumb_tray).offset().left>=vars.thumb_interval){var b=0;do{b+=vars.thumb_interval}while(a(".current-thumb").offset().left-a(vars.thumb_tray).offset().left-b>=vars.thumb_interval);vars.thumb_page=vars.thumb_page-b;a(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}}}else{if(c=="prev"){if(vars.current_slide==api.options.slides.length-1){vars.thumb_page=Math.floor(a(vars.thumb_list).width()/vars.thumb_interval)*-vars.thumb_interval;if(a(vars.thumb_list).width()<=-vars.thumb_page){vars.thumb_page=vars.thumb_page+vars.thumb_interval}a(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}else{if(a(".current-thumb").offset().left-a(vars.thumb_tray).offset().left<0){if(vars.thumb_page+vars.thumb_interval>0){return false}var b=0;do{b+=vars.thumb_interval}while(a(".current-thumb").offset().left-a(vars.thumb_tray).offset().left+b<0);vars.thumb_page=vars.thumb_page+b;a(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}}}}}}},loadThumbnails:function(){var d=a("> li",vars.thumb_list);var b;for(c=0;c<d.length;++c){var e=d.get(c);if(a(e).offset().left>=-vars.thumb_interval){b=a(e);break}}if(b&&b.length>0){var c=0;$prev_thumb=a(d.get(c));do{$prev_thumb.html("");$prev_thumb=a(d.get(c));++c}while($prev_thumb.attr("class")!==b.attr("class"));do{$thumbnail=b.find("img");if($thumbnail.length==0){$thumbnail=a("<img>",{src:api.options.slides[b.index()].thumb});b.append($thumbnail)}b=b.next()}while(b.length>0&&b.offset().left<(vars.thumb_interval*2))}},imageAdded:function(c,b){li_html=a(".thumb"+(api.options.slides.length+i));if(li_html.length==0){li_html=a("<li>",{"class":"thumb"+(api.options.slides.length+i)});ul_html=a("ul#thumb-list");ul_html.css("width",150*(api.options.slides.length+i+1));ul_html.append(li_html)}else{li_html=li_html[0]}img_html=li_html.find("img");if(img_html.length==0){img_html=a("<img>",{src:b.thumb});li_html.append(img_html)}if(api.options.thumb_links){li_html.click(function(){c=a(this).index();targetSlide=c+1;api.goTo(targetSlide);return false})}},afterAnimation:function(){this.loadThumbnails();if(api.options.progress_bar&&!vars.is_paused){theme.progressBar()}},progressBar:function(){a(vars.progress_bar).stop().css({left:-a(window).width()}).animate({left:0},api.options.slide_interval)}};a.supersized.themeVars={progress_delay:false,thumb_page:false,thumb_interval:false,image_path:"img/",play_button:"#pauseplay",next_slide:"#nextslide",prev_slide:"#prevslide",next_thumb:"#nextthumb",prev_thumb:"#prevthumb",slide_caption:"#slidecaption",slide_current:".slidenumber",slide_total:".totalslides",slide_list:"#slide-list",thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",thumb_forward:"#thumb-forward",thumb_back:"#thumb-back",tray_arrow:"#tray-arrow",tray_button:"#tray-button",progress_bar:"#progress-bar"};a.supersized.themeOptions={progress_bar:1,mouse_scrub:0,thumbnails_at_launch:0}})(jQuery);